import { FC } from 'react'
import classNames from 'classnames'
import { motion } from 'framer-motion'

interface Props {
  loadingText?: string
  className?: string
}

const Loading: FC<Props> = ({ loadingText, className }) => {
  const pathVariants = {
    animation: {
      rotate: 360,
      transition: { duration: 2, loop: Infinity },
    },
  }

  return (
    <div className={classNames('flex-center space-x-4', className)} data-testid="loading">
      <motion.svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="40px">
        <motion.path
          variants={pathVariants}
          animate="animation"
          d="M256 0C114.517 0 0 114.497 0 256c0 141.483 114.497 256 256 256 141.483 0 256-114.497 256-256C512 114.517 397.503 0 256 0zm99.904 129.039c28.718-16.58 65.378-6.762 81.961 21.961 16.58 28.717 6.762 65.378-21.961 81.961-28.773 16.614-65.49 6.567-81.962-21.961-16.58-28.718-6.76-65.378 21.962-81.961zM156.096 382.961c-28.767 16.611-65.411 6.704-81.961-21.961-16.58-28.717-6.762-65.378 21.961-81.961 28.652-16.544 65.419-6.689 81.962 21.961 16.58 28.718 6.76 65.378-21.962 81.961zM178.058 211c-16.469 28.523-53.193 38.572-81.962 21.961C67.379 216.382 57.552 179.722 74.135 151c16.579-28.715 53.239-38.546 81.961-21.961 28.717 16.579 38.545 53.238 21.962 81.961zM256 466c-33.084 0-60-26.916-60-60s26.916-60 60-60 60 26.916 60 60-26.916 60-60 60zm26-225c8.284 0 15 6.716 15 15s-6.716 15-15 15h-11v11c0 8.284-6.716 15-15 15s-15-6.716-15-15v-11h-11c-8.284 0-15-6.716-15-15s6.716-15 15-15h11v-11c0-8.284 6.716-15 15-15s15 6.716 15 15v11h11zm-26-75c-33.084 0-60-26.916-60-60s26.916-60 60-60 60 26.916 60 60-26.916 60-60 60zm181.865 195c-16.542 28.652-53.164 38.587-81.961 21.961-28.717-16.579-38.545-53.238-21.962-81.961 16.543-28.65 53.309-38.504 81.962-21.961 28.717 16.579 38.544 53.239 21.961 81.961z"
        />
      </motion.svg>
      {loadingText && <span> {loadingText} </span>}
    </div>
  )
}

export default Loading
